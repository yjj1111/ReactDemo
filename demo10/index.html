<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <script src="../build/react.development.js"></script>
    <script src="../build/react-dom.development.js"></script>
    <script src="../build/babel.min.js"></script>
</head>

<body>
    <div id="root"></div>
    <script type="text/babel">
       class Hello extends React.Component{
           constructor(props) {
               super(props)
               this.state={
                   opacity:1.0
               };
           }
           //挂载完成之后调用

        //    componentDidMount(){
        //         this.timer=setInterval(function (){
        //             var opacity=this.state.opacity;
        //             opacity -=.05;
        //             if(opacity<0.1){
        //                 opacity=1.0
        //             };
        //             this.setState({
        //                 opacity:opacity
        //             });
        //         }.bind(this),100);
        //    };

   //挂载完成之后调用,箭头函数连接上下文，所以不需要绑定组件this
        componentDidMount(){
            setInterval(() => {
                var opacity=this.state.opacity;
                    opacity -=.05;
                    if(opacity<0.1){
                        opacity=1.0
                    };
                    this.setState({
                        opacity:opacity
                    });
            }, 100);
        }
           render(){
               return(
                   <div style={{opacity:this.state.opacity}}>
                    Hello {this.props.name}
                    </div>
               )
           }
       };
       ReactDOM.render(
           <Hello name="word"/>,
            document.getElementById('root')
       )

      </script>
</body>

</html>